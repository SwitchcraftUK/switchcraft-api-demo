{"version":3,"sources":["config.js","SwitchUser.js","Quote.js","index.js","App.js"],"names":["API_VERSION","process","REACT_APP_API_VERSION","BACKEND_URL","ENERGY_BACKEND_URL","ENERGY_QUOTE_BACKEND_URL","ENERGY_SWITCH_BACKEND_URL","postSwitchUser","a","fetch","method","result","json","SwitchUser","useState","switchState","setSwitchState","isLoading","setIsLoadingState","switchUserClicked","switchResponse","onClick","success","getQuote","Quote","quoteState","setQuoteState","getQuoteClicked","quote","tariffs","length","annualSaving","ReactDOM","render","className","document","getElementById"],"mappings":"gQAEaA,EAAcC,uLAAYC,uBAAyB,KAE1DC,EAAW,UAJeF,wCAIf,gBAA8BD,GAElCI,EAAkB,UAAMD,EAAN,WAElBE,EAAwB,UAAMD,EAAN,UAExBE,EAAyB,UAAMF,EAAN,WCPhCG,EAAc,uCAAG,4BAAAC,EAAA,sEACGC,MAAMH,EAA2B,CAAEI,OAAQ,SAD9C,cACbC,EADa,OACyDC,OADzD,kBAEZD,GAFY,2CAAH,qDAKPE,EAAa,WAAO,IAAD,EACUC,mBAAS,MADnB,mBACrBC,EADqB,KACRC,EADQ,OAEWF,oBAAS,GAFpB,mBAErBG,EAFqB,KAEVC,EAFU,KAItBC,EAAiB,uCAAG,4BAAAX,EAAA,6DACtBU,GAAkB,GADI,SAEOX,IAFP,OAEhBa,EAFgB,OAGtBJ,EAAeI,GACfF,GAAkB,GAJI,2CAAH,qDAOvB,OACI,6BACI,4BAAQG,QAASF,GAAjB,iBAEIF,GAAa,4CAGZA,GAAaF,IACVA,EAAYO,QACN,qDACA,oDCzBpBC,EAAQ,uCAAG,4BAAAf,EAAA,sEACOC,MAAMJ,EAA0B,CAAEK,OAAQ,SADjD,cACTC,EADS,OAC4DC,OAD5D,kBAERD,GAFQ,2CAAH,qDAKDa,EAAQ,WAAO,IAAD,EACaV,mBAAS,MADtB,mBAChBW,EADgB,KACJC,EADI,OAEgBZ,oBAAS,GAFzB,mBAEhBG,EAFgB,KAELC,EAFK,KAIjBS,EAAe,uCAAG,4BAAAnB,EAAA,6DACpBU,GAAkB,GADE,SAEAK,IAFA,OAEdK,EAFc,OAGpBF,EAAcE,GACdV,GAAkB,GAJE,2CAAH,qDAOrB,OACI,6BACI,4BAAQG,QAASM,GAAjB,aAEIV,GAAa,4CAGZA,GAAaQ,GAAcA,EAAWI,SAAWJ,EAAWI,QAAQC,OAAS,GAC1E,sDAC4BL,EAAWI,QAAQ,GAAGE,aAC9C,kBAAC,EAAD,SCzBxBC,IAASC,OAAO,mBCDG,WACjB,OACE,yBAAKC,UAAU,SACb,gCACE,oDACA,kBAAC,EAAD,UDJQ,MAASC,SAASC,eAAe,U","file":"static/js/main.6e708240.chunk.js","sourcesContent":["export const BASE_BACKEND_URL = process.env.REACT_APP_BASE_BACKEND_URL || 'http://localhost:3000';\n\nexport const API_VERSION = process.env.REACT_APP_API_VERSION || 'v1';\n\nconst BACKEND_URL = `${BASE_BACKEND_URL}/api/${API_VERSION}`;\n\nexport const ENERGY_BACKEND_URL = `${BACKEND_URL}/energy`;\n\nexport const ENERGY_QUOTE_BACKEND_URL = `${ENERGY_BACKEND_URL}/quote`;\n\nexport const ENERGY_SWITCH_BACKEND_URL = `${ENERGY_BACKEND_URL}/switch`;\n","import React, { useState } from 'react';\nimport { ENERGY_SWITCH_BACKEND_URL } from './config';\n\nconst postSwitchUser = async () => {\n    const result = (await fetch(ENERGY_SWITCH_BACKEND_URL, { method: 'POST' })).json();\n    return result;\n};\n\nexport const SwitchUser = () => {\n    const [switchState, setSwitchState] = useState(null);\n    const [isLoading, setIsLoadingState] = useState(false);\n\n    const switchUserClicked = async () => {\n        setIsLoadingState(true);\n        const switchResponse = await postSwitchUser();\n        setSwitchState(switchResponse);\n        setIsLoadingState(false);\n    };\n\n    return (\n        <div>\n            <button onClick={switchUserClicked}>Switch Energy</button>\n            {\n                isLoading && <div>Loading...</div>\n            }\n            {\n                !isLoading && switchState && (\n                    switchState.success\n                        ? <div>Switch successfully!</div>\n                        : <div>Failed to switch</div>\n                )\n            }\n        </div>\n    );\n};\n","import React, { useState } from 'react';\nimport { ENERGY_QUOTE_BACKEND_URL } from './config';\nimport {SwitchUser} from \"./SwitchUser\";\n\nconst getQuote = async () => {\n  const result = (await fetch(ENERGY_QUOTE_BACKEND_URL, { method: 'POST' })).json();\n  return result;\n};\n\nexport const Quote = () => {\n    const [quoteState, setQuoteState] = useState(null);\n    const [isLoading, setIsLoadingState] = useState(false);\n\n    const getQuoteClicked = async () => {\n        setIsLoadingState(true);\n        const quote = await getQuote();\n        setQuoteState(quote);\n        setIsLoadingState(false);\n    };\n\n    return (\n        <div>\n            <button onClick={getQuoteClicked}>Get Quote</button>\n            {\n                isLoading && <div>Loading...</div>\n            }\n            {\n                !isLoading && quoteState && quoteState.tariffs && quoteState.tariffs.length > 0 &&\n                    <div>\n                        Switch today and save { quoteState.tariffs[0].annualSaving }\n                        <SwitchUser/>\n                    </div>\n            }\n        </div>\n    );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import React from 'react';\nimport './App.css';\nimport {Quote} from \"./Quote\";\n\nexport const App = () => {\n  return (\n    <div className=\"c-app\">\n      <header>\n        <h3>Switchcraft API demo</h3>\n        <Quote/>\n      </header>\n    </div>\n  );\n};\n"],"sourceRoot":""}