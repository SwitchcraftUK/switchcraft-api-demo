(this["webpackJsonpswitcraft-api-demo"]=this["webpackJsonpswitcraft-api-demo"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,function(e,t,a){e.exports=a(44)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),s=a.n(r),l=(a(27),a(28),{address:{postcode:"E28EB",addressLine1:"192a Kingsland Road"},bankDetails:{accountNumber:"14457846",sortCode:"40-47-84"},identity:{title:"Mr",firstName:"John",lastName:"Smith",email:"john.smith@email.co.uk",phoneNumber:"07950450297",dateOfBirth:"1989-05-25",monthsAtCurrentAddress:50}}),o=(a(29),function(){return c.a.createElement("header",{className:"c-top-bar"},c.a.createElement("h3",null,"Switchcraft Bank Account"),c.a.createElement("p",null,l.bankDetails.sortCode," ",l.bankDetails.accountNumber))}),i=(a(30),[{date:"Today",to:"Tesco",amount:"3.00"},{date:"Yesterday",to:"British Gas",amount:"70.00",reference:"Gas and Electric"},{date:"18 February",to:"Jess Smith",amount:"300.00",reference:"Holiday"},{date:"17 February",to:"Landlord",amount:"1,000.00",reference:"House Rent"}]),u=a(5),m=a.n(u),d=a(8),E=a(9),p=Object({NODE_ENV:"production",PUBLIC_URL:"/switchcraft-api-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_BACKEND_URL:"https://api-staging.switchcraft.co.uk"}).REACT_APP_API_VERSION||"v1",f="".concat("https://api-staging.switchcraft.co.uk","/api/").concat(p),_="".concat(f,"/energy"),h="".concat(_,"/quote"),v="".concat(_,"/switch"),N=(a(32),function(e){var t=e.children;return c.a.createElement("div",{className:"c-loading"},t||"Loading...")}),b=(a(33),a(16),function(e){var t=e.onClick,a=e.children;return c.a.createElement("button",{className:"c-btn",onClick:t},a)}),w=function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n,c,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:"POST",e.next=3,fetch(a,{headers:{"Content-Type":"application/json",Authorization:"switchcraft-test-key"},body:JSON.stringify(t),method:n});case 3:return c=e.sent.json(),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=a(11),g=function(){var e=Object(n.useState)(null),t=Object(E.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),o=Object(E.a)(s,2),i=o[0],u=o[1],p=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,w({hasUserAcceptedTermsAndConditions:!0,address:l.address},h);case 3:t=e.sent,r(t),localStorage.setItem("quoteState",JSON.stringify(t)),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=a&&a.tariffs&&a.tariffs.length>0,_=f&&a.tariffs[0];return c.a.createElement("div",{className:"c-quote".concat(f?" c-quote__button-shown":"")},i?c.a.createElement(N,null,"Getting your quote..."):f?c.a.createElement(y.b,{className:"c-quote__switch-user",to:"/switch"},"Switch my energy and save \xa3",_.annualSaving.toFixed(0)):c.a.createElement(b,{onClick:p},c.a.createElement("span",{className:"c-quote__save-more"},"Want to save money on your energy?"),c.a.createElement("br",null),"Click here to find out how much you could save"))},S=function(e){var t=e.transaction,a=e.showQuote;return c.a.createElement("div",{className:"c-transaction-row"},c.a.createElement("div",{className:"c-transaction-row__date"},t.date),c.a.createElement("div",{className:"c-transaction-row__inner"},c.a.createElement("div",null,c.a.createElement("p",{className:"c-transaction-row__to"},t.to),t.reference&&c.a.createElement("p",{className:"c-transaction-row__reference"},t.reference)),c.a.createElement("div",null,c.a.createElement("p",{className:"c-transaction-row__amount"},"\xa3",t.amount))),a&&c.a.createElement(g,null))},q=function(){return c.a.createElement("div",{className:"c-transactions"},i.map((function(e,t){return c.a.createElement(S,{key:t,transaction:e,showQuote:1===t})})))},k=a(6),O=(a(39),function(e){var t=e.fuelName,a=e.fuelEstimate;return a.hasFuel?c.a.createElement("tr",null,c.a.createElement("td",null,t),c.a.createElement("td",null,a.supplierName),c.a.createElement("td",null,a.tariffName),c.a.createElement("td",null,a.paymentType),c.a.createElement("td",null,a.kwUsagePerMonth.toFixed(0),"kW")):null}),T=function(e){var t=e.estimate;return c.a.createElement("div",{className:"c-estimate-summary"},c.a.createElement("p",null,"We have made this estimate based on these details:"),c.a.createElement("table",{className:"c-estimate-summary__table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Fuel Type"),c.a.createElement("th",null,"Supplier Name"),c.a.createElement("th",null,"Tariff Name"),c.a.createElement("th",null,"Payment Type"),c.a.createElement("th",null,"KwH Usage Per Month"))),c.a.createElement("tbody",null,c.a.createElement(O,{fuelName:"Electricity",fuelEstimate:t.elecEstimate}),c.a.createElement(O,{fuelName:"Gas",fuelEstimate:t.gasEstimate}))))},C=(a(40),function(e){var t=e.topTariff;return c.a.createElement("div",{className:"c-top-quote"},c.a.createElement("div",{className:"c-top-quote__top-row"},c.a.createElement("div",{className:"c-top-quote__row-item"},c.a.createElement("img",{className:"c-top-quote__supplier-logo",src:t.supplierLogoUrl,alt:"Supplier logo"})),c.a.createElement("div",{className:"c-top-quote__row-item"},c.a.createElement("div",{className:"c-top-quote__cost-text"},"Estimated cost"),c.a.createElement("div",{className:"c-top-quote__cost"},c.a.createElement("span",{className:"c-top-quote__currency"},"\xa3"),t.annualCost.toFixed(0)),c.a.createElement("div",{className:"c-top-quote__cost-text"},"per year")),c.a.createElement("div",{className:"c-top-quote__row-item"},c.a.createElement("div",{className:"c-top-quote__cost-text"},"You save"),c.a.createElement("div",{className:"c-top-quote__saving"},c.a.createElement("span",{className:"c-top-quote__currency"},"\xa3"),t.annualSaving.toFixed(0)),c.a.createElement("div",{className:"c-top-quote__cost-text"},"per year"))),c.a.createElement("div",{className:"c-top-quote__bottom-row"},c.a.createElement("span",{className:"c-top-quote__supplier-name"},t.supplierName),"\xa0",t.tariffName))}),x=a(21),j=(a(41),a(42),function(e){var t=e.onClick,a=e.children;return c.a.createElement("button",{className:"c-btn c-outline-btn",onClick:t},a)}),A=function(e){var t=Object(x.a)({userId:e,tariffId:"1a47e5b80cdbd80006c542a1"},l.identity,{bankDetails:l.bankDetails});return w(t,v)},P=function(e){var t=e.topTariff,a=e.userId,r=Object(n.useState)(null),s=Object(E.a)(r,2),l=s[0],o=s[1],i=Object(n.useState)(!1),u=Object(E.a)(i,2),p=u[0],f=u[1],_=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,A(a);case 3:t=e.sent,o(t),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"c-switch-user-button"},p?c.a.createElement(N,null,"Switching your energy..."):l?c.a.createElement("div",{className:"c-switch-user-button__result"},l.success?"Switch successful":l.message):c.a.createElement("div",{className:"c-switch-user-button__btn"},c.a.createElement(j,{onClick:_},"Switch now and save \xa3",t.annualSaving.toFixed(0))))},I=(a(43),function(){var e=JSON.parse(localStorage.getItem("quoteState")),t=e.tariffs[0];return c.a.createElement("div",{className:"c-switch-user"},c.a.createElement("div",{className:"c-switch-user__top-quote-text"},"Your top quote for ",l.address.addressLine1,":"),c.a.createElement(C,{topTariff:t}),c.a.createElement(T,{estimate:e.estimate}),c.a.createElement(P,{userId:e.userId,topTariff:t}))});s.a.render(c.a.createElement((function(){return c.a.createElement(y.a,null,c.a.createElement("div",{className:"c-app"},c.a.createElement(o,null),c.a.createElement("div",{className:"c-app__inner"},c.a.createElement(k.c,null,c.a.createElement(k.a,{path:"/switch"},c.a.createElement(I,null)),c.a.createElement(k.a,{path:"/"},c.a.createElement(q,null))))))}),null),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.6c9f6bea.chunk.js.map