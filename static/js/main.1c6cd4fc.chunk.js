(this["webpackJsonpswitcraft-api-demo"]=this["webpackJsonpswitcraft-api-demo"]||[]).push([[0],{19:function(e,t,a){},23:function(e,t,a){e.exports=a(46)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),s=a.n(r),l=(a(28),a(29),{address:{postcode:"E28EB",addressLine1:"192a Kingsland Road"},bankDetails:{accountNumber:"14457846",sortCode:"40-47-84"},identity:{title:"Mr",firstName:"John",lastName:"Smith",email:"john.smith@email.co.uk",phoneNumber:"07950450297",dateOfBirth:"1989-05-25",monthsAtCurrentAddress:50}}),o=(a(30),function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",height:"32px",version:"1.1",viewBox:"0 0 32 32",width:"32px",xmlSpace:"preserve"},c.a.createElement("path",{d:"M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"}))}),i=a(9),u=function(){return c.a.createElement("header",{className:"c-top-bar"},c.a.createElement("h3",null,"Switchcraft Bank Account"),c.a.createElement("p",null,l.bankDetails.sortCode," ",l.bankDetails.accountNumber),c.a.createElement(i.b,{to:"/details",className:"c-top-bar__burger-icon"},c.a.createElement(o,null)))},m=(a(36),[{date:"Today",to:"Tesco",amount:"3.00"},{date:"Yesterday",to:"British Gas",amount:"70.00",reference:"Gas and Electric"},{date:"18 February",to:"Jess Smith",amount:"300.00",reference:"Holiday"},{date:"17 February",to:"Landlord",amount:"1,000.00",reference:"House Rent"}]),d=a(5),p=a.n(d),E=a(10),f=a(6),h=Object({NODE_ENV:"production",PUBLIC_URL:"/switchcraft-api-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_BACKEND_URL:"https://api-staging.switchcraft.co.uk"}).REACT_APP_API_VERSION||"v1",_="".concat("https://api-staging.switchcraft.co.uk","/api/").concat(h),v="".concat(_,"/energy"),N="".concat(v,"/quote"),b="".concat(v,"/switch"),w=(a(38),function(e){var t=e.children;return c.a.createElement("div",{className:"c-loading"},t||"Loading...")}),g=(a(39),a(19),function(e){var t=e.onClick,a=e.children;return c.a.createElement("button",{className:"c-btn",onClick:t},a)}),y=function(){var e=Object(E.a)(p.a.mark((function e(t,a){var n,c,r=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:"POST",e.next=3,fetch(a,{headers:{"Content-Type":"application/json",Authorization:"switchcraft-test-key"},body:JSON.stringify(t),method:n});case 3:return c=e.sent.json(),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e={hasUserAcceptedTermsAndConditions:!0,address:l.address};return y(e,N)},k=function(){var e=Object(n.useState)(null),t=Object(f.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),l=Object(f.a)(s,2),o=l[0],u=l[1],m=function(){var e=Object(E.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,S();case 3:t=e.sent,r(t),localStorage.setItem("quoteState",JSON.stringify(t)),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=a&&a.tariffs&&a.tariffs.length>0,h=d&&a.tariffs[0];return c.a.createElement("div",{className:"c-quote".concat(d?" c-quote__button-shown":"")},o?c.a.createElement(w,null,"Getting your quote..."):d?c.a.createElement(i.b,{className:"c-quote__switch-user",to:"/switch"},"Switch my energy and save \xa3",h.annualSaving.toFixed(0)):c.a.createElement(g,{onClick:m},c.a.createElement("span",{className:"c-quote__save-more"},"Want to save money on your energy?"),c.a.createElement("br",null),"Click here to find out how much you could save"))},O=function(e){var t=e.transaction,a=e.showQuote;return c.a.createElement("div",{className:"c-transaction-row"},c.a.createElement("div",{className:"c-transaction-row__date"},t.date),c.a.createElement("div",{className:"c-transaction-row__inner"},c.a.createElement("div",null,c.a.createElement("p",{className:"c-transaction-row__to"},t.to),t.reference&&c.a.createElement("p",{className:"c-transaction-row__reference"},t.reference)),c.a.createElement("div",null,c.a.createElement("p",{className:"c-transaction-row__amount"},"\xa3",t.amount))),a&&c.a.createElement(k,null))},q=function(){return c.a.createElement("div",{className:"c-transactions"},m.map((function(e,t){return c.a.createElement(O,{key:t,transaction:e,showQuote:1===t})})))},x=a(7),C=(a(40),function(e){var t=e.fuelName,a=e.fuelEstimate;return a.hasFuel?c.a.createElement("tr",null,c.a.createElement("td",null,t),c.a.createElement("td",null,a.supplierName),c.a.createElement("td",null,a.tariffName),c.a.createElement("td",null,a.paymentType),c.a.createElement("td",null,a.kwUsagePerMonth.toFixed(0),"kW")):null}),T=function(e){var t=e.estimate;return c.a.createElement("div",{className:"c-estimate-summary"},c.a.createElement("p",null,"We have made this estimate based on these details:"),c.a.createElement("table",{className:"c-estimate-summary__table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Fuel Type"),c.a.createElement("th",null,"Supplier Name"),c.a.createElement("th",null,"Tariff Name"),c.a.createElement("th",null,"Payment Type"),c.a.createElement("th",null,"KwH Usage Per Month"))),c.a.createElement("tbody",null,c.a.createElement(C,{fuelName:"Electricity",fuelEstimate:t.elecEstimate}),c.a.createElement(C,{fuelName:"Gas",fuelEstimate:t.gasEstimate}))))},j=(a(41),function(e){var t=e.topTariff;return c.a.createElement("div",{className:"c-top-quote"},c.a.createElement("div",{className:"c-top-quote__top-row"},c.a.createElement("div",{className:"c-top-quote__row-item"},c.a.createElement("img",{className:"c-top-quote__supplier-logo",src:t.supplierLogoUrl,alt:"Supplier logo"})),c.a.createElement("div",{className:"c-top-quote__row-item"},c.a.createElement("div",{className:"c-top-quote__cost-text"},"Estimated cost"),c.a.createElement("div",{className:"c-top-quote__cost"},c.a.createElement("span",{className:"c-top-quote__currency"},"\xa3"),t.annualCost.toFixed(0)),c.a.createElement("div",{className:"c-top-quote__cost-text"},"per year")),c.a.createElement("div",{className:"c-top-quote__row-item"},c.a.createElement("div",{className:"c-top-quote__cost-text"},"You save"),c.a.createElement("div",{className:"c-top-quote__saving"},c.a.createElement("span",{className:"c-top-quote__currency"},"\xa3"),t.annualSaving.toFixed(0)),c.a.createElement("div",{className:"c-top-quote__cost-text"},"per year"))),c.a.createElement("div",{className:"c-top-quote__bottom-row"},c.a.createElement("span",{className:"c-top-quote__supplier-name"},t.supplierName),"\xa0",t.tariffName))}),A=a(12),L=(a(42),a(43),function(e){var t=e.onClick,a=e.children;return c.a.createElement("button",{className:"c-btn c-outline-btn",onClick:t},a)}),P=function(e){var t=Object(A.a)({userId:e,tariffId:"1a47e5b80cdbd80006c542a1"},l.identity,{bankDetails:l.bankDetails});return y(t,b)},I=function(e){var t=e.topTariff,a=e.userId,r=Object(n.useState)(null),s=Object(f.a)(r,2),l=s[0],o=s[1],i=Object(n.useState)(!1),u=Object(f.a)(i,2),m=u[0],d=u[1],h=function(){var e=Object(E.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,P(a);case 3:t=e.sent,o(t),d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"c-switch-user-button"},m?c.a.createElement(w,null,"Switching your energy..."):l?c.a.createElement("div",{className:"c-switch-user-button__result"},l.success?"Switch successful":l.message):c.a.createElement("div",{className:"c-switch-user-button__btn"},c.a.createElement(L,{onClick:h},"Switch now and save \xa3",t.annualSaving.toFixed(0))))},D=(a(44),function(){var e=JSON.parse(localStorage.getItem("quoteState")),t=e.tariffs[0];return c.a.createElement("div",{className:"c-switch-user"},c.a.createElement("div",{className:"c-switch-user__top-quote-text"},"Your top quote for ",l.address.addressLine1,":"),c.a.createElement(j,{topTariff:t}),c.a.createElement(T,{estimate:e.estimate}),c.a.createElement(I,{userId:e.userId,topTariff:t}))}),B=a(13),F=(a(45),function(){var e=Object(n.useState)({postcode:l.address.postcode,addressLine1:l.address.addressLine1}),t=Object(f.a)(e,2),a=t[0],r=t[1],s=function(e){r(Object(A.a)({},a,Object(B.a)({},e.target.name,e.target.value)))};return c.a.createElement("div",{className:"c-details"},c.a.createElement("label",{className:"c-details__field"},"Postcode",c.a.createElement("input",{className:"c-details__input",name:"postcode",onChange:s,type:"text",value:a.postcode})),c.a.createElement("label",{className:"c-details__field"},"Address Line 1",c.a.createElement("input",{className:"c-details__input",name:"addressLine1",onChange:s,type:"text",value:a.addressLine1})),c.a.createElement("div",{className:"c-details__update-btn"},c.a.createElement(L,{onClick:function(){l.address=a,window.history.back()}},"Update details")))});s.a.render(c.a.createElement((function(){return c.a.createElement(i.a,null,c.a.createElement("div",{className:"c-app"},c.a.createElement(u,null),c.a.createElement("div",{className:"c-app__inner"},c.a.createElement(x.c,null,c.a.createElement(x.a,{path:"/switch"},c.a.createElement(D,null)),c.a.createElement(x.a,{path:"/details"},c.a.createElement(F,null)),c.a.createElement(x.a,{path:"/"},c.a.createElement(q,null))))))}),null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.1c6cd4fc.chunk.js.map